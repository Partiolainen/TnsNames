# Oracle TNS names library for .NET

Main function of the library is parsing/reading of [Oracle TNS names files](https://docs.oracle.com/database/121/NETRF/tnsnames.htm). The library also aids in resolving TNS names files on the local machine.

A console application is provided that lists all available TNS names files and their TNS name entries. It uses [Costura.Fody](https://www.nuget.org/packages/Costura.Fody/) in the build process to embed all dll files inside the exe. This makes for a neat standalone / single file program.

Binaries for the library are provided as a [NuGet package](https://www.nuget.org/packages/TnsNames/). The console application can be found under releases.

Prerequisite for compilation is Visual Studio extension [ANTLR Language Support](https://visualstudiogallery.msdn.microsoft.com/25b991db-befd-441b-b23b-bb5f8d07ee9f).

### Design notes
The library will catch syntax errors, but there are only a few symantic checks:

* Port numbers is ensured to be integer in range 1 to 65535.
* A TNS name must have at least one database address.
* All properties are ensured to have a value (TnsName, ServiceName, Protocol, Host, Port etc.).


## Code examples

```csharp

    /* NOTE
     * differentiation between TnsNamesFileInfo (file not opened) and 
     * TnsNamesFile (file opened and information extracted)
     */

    // get TnsNamesFileInfo for files
    var rootFilesInfos = TnsNames.ResolveRootTnsNamesFiles();
    
    // open files and recursivly open IFile entries
    var allFiles = TnsNames.OpenTnsNamesFiles(rootFilesInfos, ignoreErrors: true, followIFileEntries: true);
    
    // enumerate files and TNS name entries
    foreach (var tnsNamesFile in allFiles)
    {
    	foreach (var tnsName in tnsNamesFile.TnsNames)
        {
        	// process TNS name entry
        }
    }
```

##### Code example: enumerate TNS name entries with extension method
```csharp

    foreach (var tnsName in allFiles.EnumerateTnsNames())
    {
        // process TNS name entry
    }
```

## Developer notes
The TnsNames project include files from obj\ folder. This being unusal is a trick to get ReSharper working correctly in conjunction with ANTLR and the autogenerated parser code. 

## Dependencies
* ANTLR 4

## Links:
* [GitHub repository](https://github.com/espenrl/TnsNames/)
* NuGet package [erl.Oracle.TnsNames](https://www.nuget.org/packages/erl.Oracle.TnsNames/)
* [ANTLR.org](http://www.antlr.org)
* [Oracle TNS names documentation](https://docs.oracle.com/database/121/NETRF/tnsnames.htm)
* Costura.Fody on [GitHub](https://github.com/Fody/Costura) and [NuGet](https://www.nuget.org/packages/Costura.Fody/)
* Visual Studio extension [ANTLR Language Support](https://visualstudiogallery.msdn.microsoft.com/25b991db-befd-441b-b23b-bb5f8d07ee9f)